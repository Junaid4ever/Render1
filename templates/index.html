<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoom Meeting Automation</title>
</head>
<body>
    <h1>Zoom Meeting Automation</h1>
    <form id="startForm">
        <label for="meetingcode">Meeting ID:</label>
        <input type="text" id="meetingcode" required>
        <br><br>
        <label for="passcode">Password:</label>
        <input type="password" id="passcode" required>
        <br><br>
        <label for="wait_time">Wait Time (in seconds):</label>
        <input type="number" id="wait_time" value="7200">
        <br><br>
        <button type="submit">Start Participants</button>
    </form>

    <br><br>
    <button id="endBtn">End Meeting</button>

    <script>
        // Start participants
        document.getElementById('startForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const meetingcode = document.getElementById('meetingcode').value;
            const passcode = document.getElementById('passcode').value;
            const wait_time = document.getElementById('wait_time').value;

            fetch('/start', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    meetingcode: meetingcode,
                    passcode: passcode,
                    wait_time: wait_time
                })
            })
            .then(response => response.json())
            .then(data => alert(data.message))
            .catch(error => alert(error.message));
        });

        // End meeting
        document.getElementById('endBtn').addEventListener('click', function() {
            fetch('/end', {
                method: 'POST',
            })
            .then(response => response.json())
            .then(data => alert(data.message))
            .catch(error => alert(error.message));
        });
    </script>
</body>
</html>
